<!DOCTYPE 5><html lang="ko"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>MMIX: 명령행 인자 출력하기 | Soharu's Notes</title><meta name="generator" content="DocPad v6.79.4" /><link  rel="stylesheet" href="/styles/style.css" /><link  rel="stylesheet" href="/styles/darcula.css" /></head><body><header><section><h1><a href="https://soharu.github.io">Soharu's Notes</a></h1><p>읽고, 쓰고, 그리고, 코딩하는 하루</p></section></header><nav><ul><li class="inactive"><a href="/about.html">About Me</a></li><li class="inactive"><a href="/posts.html">Posts</a></li><li class="inactive"><a href="/tags.html">Tags</a></li></ul></nav><section class="post"><article><h2><a href="/posts/2014-02-11-mmix-args.html">MMIX: 명령행 인자 출력하기</a></h2><date>2014/02/11 화</date><p>명령행 인자를 출력하는 MMIX 코드</p>
<pre class="highlight"><code class="hljs armasm"><span class="hljs-symbol">argv</span>    IS      <span class="hljs-number">$1</span>
t       IS      <span class="hljs-number">$255</span>
k       GREG    <span class="hljs-number">0</span>
        LOC     Data_Segment
        GREG    <span class="hljs-comment">@</span>
<span class="hljs-symbol">NewLn</span>   <span class="hljs-keyword">BYTE </span>   <span class="hljs-symbol">#a</span>,<span class="hljs-number">0</span>
        LOC     <span class="hljs-number">#100</span>
<span class="hljs-symbol">Main</span>    SET     k,<span class="hljs-number">0</span>
<span class="hljs-symbol">Loop</span>    LDOU    t,argv,k
        <span class="hljs-keyword">BZ </span>     t,Term
        TRAP    <span class="hljs-number">0</span>,Fputs,StdOut
        LDA     t,NewLn
        TRAP    <span class="hljs-number">0</span>,Fputs,StdOut
        <span class="hljs-keyword">ADDU </span>   k,k,<span class="hljs-number">8</span>
        JMP     Loop
<span class="hljs-symbol">Term</span>    TRAP    <span class="hljs-number">0</span>,Halt,<span class="hljs-number">0</span>
</code></pre>
<p>레지스터 $0에 저장된 명령행 인자 갯수를 이용한 명령행 인자 출력</p>
<pre class="highlight"><code class="hljs armasm"><span class="hljs-symbol">cnt</span>     IS      <span class="hljs-number">$0</span>
<span class="hljs-symbol">argv</span>    IS      <span class="hljs-number">$1</span>
t       IS      <span class="hljs-number">$255</span>
k       GREG    <span class="hljs-number">0</span>
        LOC     Data_Segment
        GREG    <span class="hljs-comment">@</span>
<span class="hljs-symbol">NewLn</span>   <span class="hljs-keyword">BYTE </span>   <span class="hljs-symbol">#a</span>,<span class="hljs-number">0</span>
        LOC     <span class="hljs-number">#100</span>
<span class="hljs-symbol">Main</span>    SET     k,<span class="hljs-number">0</span>
<span class="hljs-symbol">Loop</span>    LDOU    t,argv,k
        TRAP    <span class="hljs-number">0</span>,Fputs,StdOut
        LDA     t,NewLn
        TRAP    <span class="hljs-number">0</span>,Fputs,StdOut
        <span class="hljs-keyword">ADDU </span>   k,k,<span class="hljs-number">8</span>
        <span class="hljs-keyword">SUB </span>    cnt,cnt,<span class="hljs-number">1</span>
        <span class="hljs-keyword">BNZ </span>    cnt,Loop
<span class="hljs-symbol">Term</span>    TRAP    <span class="hljs-number">0</span>,Halt,<span class="hljs-number">0</span>
</code></pre>
</article></section><section class="tags">Tags: tsg,mmix</section><footer><section><p>&copy;2018 <a href="https://soharu.github.io">soharu</a>. All rights reserved.
Powered by <a href="https://pages.github.com/">Github Page</a>.
Generated by <a href="https://docpad.org/">DocPad</a>.</p></section></footer><script defer="defer"  src="/vendor/jquery.min.js"></script><script defer="defer"  src="/scripts/script.js"></script></body></html>